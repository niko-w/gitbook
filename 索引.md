#### 索引

###### 主键和索引的区别

* 主键一定是唯一性索引，但是唯一性索引并不一定是主键
  主键是能唯一表上表中某一行的属性或属性组，一个表只能有一个主键，但可以有多个候选索引。
  主键常与外键构成参照完整性约束，防止出现数据不一致
* 一个表中可以有多个唯一性索引，但只能有一个主键
* 主键列不允许空值，唯一性索引列允许空值

##### 索引分类

索引分为聚簇索引和非聚簇索引，聚簇索引是按照数据存放的物理位置进行排序的，而非聚簇索引就不这样了，聚簇索引能提高多行数据检索的效率，而非聚餐索引能提高单行数据检索的效率

##### MySql索引类型

###### 普通索引

最基本的索引，没有任何限制

    –直接创建索引
    CREATE INDEX index_name ON table(column(length))
    –修改表结构的方式添加索引
    ALTER TABLE table_name ADD INDEX index_name ON (column(length))
    –创建表的时候同时创建索引
    CREATE TABLE `table` (
    `id` int(11) NOT NULL AUTO_INCREMENT ,
    `title` char(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,
    `content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,
    `time` int(10) NULL DEFAULT NULL ,
    PRIMARY KEY (`id`),
    INDEX index_name (title(length))
    )
    –删除索引
    DROP INDEX index_name ON table

###### 唯一索引

与普通索引类似，不同的是：索引列的值必须唯一，但允许有空值（注意与主键的不同）。如果是组合索引，则列值的组合必须唯一

    –创建唯一索引
    CREATE UNIQUE INDEX indexName ON table(column(length))
    –修改表结构
    ALTER TABLE table_name ADD UNIQUE indexName ON (column(length))
    –创建表的时候直接指定
    CREATE TABLE `table` (
    `id` int(11) NOT NULL AUTO_INCREMENT ,
    `title` char(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,
    `content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,
    `time` int(10) NULL DEFAULT NULL ,
    PRIMARY KEY (`id`),
    UNIQUE indexName (title(length))
    );

###### 全文索引

MySQL从3.23.23版开始支持全文索引和全文检索，FULLTEXT索引仅可用于 MyISAM 表；他们可以从CHAR、VARCHAR或TEXT列中作为CREATE TABLE语句的一部分被创建，或是随后使用ALTER TABLE 或CREATE INDEX被添加。\/\/\/\/对于较大的数据集，将你的资料输入一个没有FULLTEXT索引的表中，然后创建索引，其速度比把资料输入现有FULLTEXT索引的速度更为快。不过切记对于大容量的数据表，生成全文索引是一个非常消耗时间非常消耗硬盘空间的做法。

    –创建表的适合添加全文索引
    CREATE TABLE `table` (
    `id` int(11) NOT NULL AUTO_INCREMENT ,
    `title` char(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,
    `content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,
    `time` int(10) NULL DEFAULT NULL ,
    PRIMARY KEY (`id`),
    **FULLTEXT** (content)
    );
    –修改表结构添加全文索引
    ALTER TABLE article ADD FULLTEXT index_content(content)
    –直接创建索引
    CREATE FULLTEXT INDEX index_content ON article(content)


