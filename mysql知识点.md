#### 数据连接池

数据库连接是一种关键的有限的昂贵的资源,这一点在多用户的网页应用程序中体现的尤为突出.**对数据库连接的管理能显著影响到整个应用程序的伸缩性和健壮性,影响到程序的性能指标**.数据库连接池正式针对这个问题提出来的：

> 数据库连接池负责分配，管理和释放数据库连接，它允许应用程序重复使用一个现有的数据库连接，而不用重建建立一个

![](/assets/下载.png)

   数据库连接池在初始化时将创建一定数量的数据库连接放到连接池中, 这些数据库连接的数量是由**最小数据库连接数**来设定的.无论这些数据库连接是否被使用,连接池都将一直保证至少拥有这么多的连接数量.**连接池的最大数据库连接数量限定了这个连接池能占有的最大连接数**,当应用程序向连接池请求的连接数超过最大连接数量时,这些请求将被加入到等待队列中.

数据库连接池的最小连接数和最大连接数的设置要考虑到以下几个因素:

* 最小连接数:是连接池一直保持的数据库连接,所以如果应用程序对数据库连接的使用量不大,将会有大量的数据库连接资源被浪费.
* 最大连接数:是连接池能申请的最大连接数,如果数据库连接请求超过次数,后面的数据库连接请求将被加入到等待队列中,这会影响以后的数据库操作
* 如果最小连接数与最大连接数相差很大:那么最先连接请求将会获利,之后超过最小连接数量的连接请求等价于建立一个新的数据库连接.不过,这些大于最小连接数的数据库连接在使用完不会马上被释放,他将被放到连接池中等待重复使用或是空间超时后被释放.

#### 索引

###### 主键和索引的区别

* 主键一定是唯一性索引，但是唯一性索引并不一定是主键
    主键是能唯一表上表中某一行的属性或属性组，一个表只能有一个主键，但可以有多个候选索引。
    主键常与外键构成参照完整性约束，防止出现数据不一致
* 一个表中可以有多个唯一性索引，但只能有一个主键
* 主键不能为空，唯一性索引可以为空

